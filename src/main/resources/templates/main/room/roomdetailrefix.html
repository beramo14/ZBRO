<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
<th:block layout:fragment="customStyle">
	<style th:inline="css" type="text/css">
</style>

</th:block>
<th:block layout:fragment="content">
	<!--상세페이지 이미지 보이기  -->
	<div id="carouselExampleIndicators" class="carousel slide"
		data-bs-ride="carousel">
		<div class="carousel-indicators">
			<button type="button" data-bs-target="#carouselExampleIndicators"
				data-bs-slide-to="0" class="active" aria-current="true"
				aria-label="Slide 1"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators"
				data-bs-slide-to="1" aria-label="Slide 2"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators"
				data-bs-slide-to="2" aria-label="Slide 3"></button>
		</div>
		<div class="carousel-inner" align="center">
			<div class="carousel-item active">
				<img src="roominfoimg/roomin1.jpg" class="d-block w-40"
					alt="roominfo1">
			</div>
			<div class="carousel-item">
				<img src="roominfoimg/roomin2.jpg" class="d-block w-40"
					alt="roominfo2">
			</div>
			<div class="carousel-item">
				<img src="roominfoimg/roomin3.jpg" class="d-block w-40"
					alt="roominfo3">
			</div>
			<div class="carousel-item">
				<img src="..." class="d-block w-100" alt="roominfo4">
			</div>
			<div class="carousel-item">
				<img src="..." class="d-block w-100" alt="roominfo5">
			</div>
		</div>
		<button class="carousel-control-prev" type="button"
			data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span> <span
				class="visually-hidden">Previous</span>
		</button>
		<button class="carousel-control-next" type="button"
			data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span> <span
				class="visually-hidden">Next</span>
		</button>
	</div>
	<!-- 상세이미지 종료 -->
	<div style="display: flex">
		<!-- 전체를 묶어줄   -->
		<div>
			<!--가격정보 -->
			<div>
				<h4>가격정보</h4>
				<div>
					<ul th:each="room : ${room}">
						<li>월세 :<span th:text="${room.monthCost}"></span>
						</li>
						<li>관리비:<span th:text="${room.manageCost}"></span></li>
						<li>주차가능여부:<span th:text="${room.parkingInfo}"></span></li>
						<li>즉시입주여부:<span th:text="${room.isRoomIn}"></span></li>
					</ul>
				</div>
				<h4>상세정보</h4>
				<div th:each="room : ${room}">

					<li>방종류:<span th:text="${room.type}"></span></li>
					<li>방층:<span th:text="${room.roomFloor}"></span> /건물층:<span th:text="${room.totalFloor}"></span></li>
					<li>호수:<span th:text="${room.roomNumber}"></span></li>
					<li>면적:<span th:text="${room.size}"></span></li>
					<li>방향:<span th:text="${room.direction}"></span></li>
					<li>엘리베이터:<span th:text="${room.isElevator}"></span></li>
					<li>냉난방:<span th:text="${room.heatInfo}"></span></li>
					<li>인터넷:<span th:text="${room.internetInfo}"></span></li>
					<th:blcok th:if="${room.type}== '고시원'">
						<li>남여층 분리:<span th:text="${room.genderInfo}"></span></li>
					</th:blcok>
					<th:blcok th:unless="${room.type} != '고시원'"></th:blcok>
					<li>안전시설:<span th:text="${room.securityInfo}"></span></li>
				</div>
				<h4>옵션 및 서비스</h4>
				<div>
					<h4>공용옵션</h4>
						<div th:each="roomOption : ${roomOptions}">
							<span th:text="${roomOption.optionType.optionName}"></span> 
						</div>
					<h4>방옵션</h4>
						<div th:each="roomOption : ${roomOptions}">
							<th:block th:if = "${roomOption.optionType.isShare} == false">
					 			 <span th:text = "${roomOption.optionType.optionName}"></span> 
							</th:block>
							 <th:block  th:unless="${roomOption.optionType.isShare} == true">
								<!-- <span th:text = "${roomOption.optionType.optionName}"></span> -->
							</th:block>
					 	</div>
				</div>
				<!--가격정보 종료  -->

				<!--지도시작  -->
				<div th:each="room : ${room}" >

					<h4>위치 및 교통정보</h4>
					<span th:text = "${room.address}+${room.transportInfo}"></span>
					
					<!-- 지도를 표시할 div 입니다 -->
					<div id="map" style="width: 100%; height: 300px;"></div>
				</div>
		</div>

			<!--지도 종료  -->

			<!--상세 소개  -->
			<div th:each="room : ${room}">
				<h4>상세소개</h4>
				<span th:text ="${room.description}"></span>
			</div>
			<!--상세소개 종료  -->

			<!--같은 건물 다른방  -->
			<div>
				<h4>판매자의 다른 매물</h4>
				<p> 다른 매물 표시할 자리입니다.</p>
			</div>
			<!--같은 건물 다른방 종료  -->

			<!-- 후기 작성 -->
			<div>
				<h4>실생활 후기</h4>
				<!-- 후기 작성하기 버튼 -->
				<button type="button" class="btn btn-primary" data-bs-toggle="modal"
					data-bs-target="#exampleModal">등록하기</button>

				<!-- 후기 작성하는 창  -->
				<div class="modal fade" id="exampleModal" tabindex="-1"
					aria-labelledby="exampleModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">실생활후기작성</h5>
								<button type="button" class="btn-close" data-bs-dismiss="modal"
									aria-label="Close"></button>
							</div>
							<div class="modal-body">
								<p>별점 작성하는 자리</p>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-primary">등록하기</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--후기 작성 종료  -->
		</div>
		<!-- 전체를 묶어줄 종료 -->
		<!--사이드 메뉴  -->
		<div>
			<div style="postion: static;">
				<div>
					<div>
						<button>공유버튼</button>
					</div>
					<div>건물명</div>
					<div>
						<h1>가격</h1>
						<p>주소</p>
					</div>
					<ul>
						<li>방구조</li>
						<li>면적</li>
						<li>층수</li>
						<li>관리비</li>
					</ul>
					<div>
						<p>판매부동산</p>
					</div>
					<div>
						<div>
							<button>
								<span>연락처보기</span>
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--사이드 메뉴 종료  -->
	</div>
</th:block>


<th:block layout:fragment="customScript">
	<script type="text/javascript"
		src="//dapi.kakao.com/v2/maps/sdk.js?appkey=8797ef24169da67f855167ed9d5ded62&libraries=services"></script>

	<script th:inline="javascript" type="text/javascript">
		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
		mapOption = {
			center : new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
			level : 3
		// 지도의 확대 레벨
		};

		// 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
		var map = new kakao.maps.Map(mapContainer, mapOption);
		
		// 마커 생성하기
		// 주소-좌표 변환 객체를 생성합니다
var geocoder = new kakao.maps.services.Geocoder();

// 주소로 좌표를 검색합니다
geocoder.addressSearch('제주특별자치도 제주시 첨단로 242', function(result, status) {

    // 정상적으로 검색이 완료됐으면 
     if (status === kakao.maps.services.Status.OK) {

        var coords = new kakao.maps.LatLng(result[0].y, result[0].x);

        // 결과값으로 받은 위치를 마커로 표시합니다
        var marker = new kakao.maps.Marker({
            map: map,
            position: coords
        });

        // 인포윈도우로 장소에 대한 설명을 표시합니다
        var infowindow = new kakao.maps.InfoWindow({
            content: '<div style="width:150px;text-align:center;padding:6px 0;">골떄리네</div>'
        });
        infowindow.open(map, marker);

        // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다
        map.setCenter(coords);
   
     }
});   
	</script>
	 
</th:block>

<th:block th:include="navbar"></th:block>
<th:block th:include="footer"></th:block>